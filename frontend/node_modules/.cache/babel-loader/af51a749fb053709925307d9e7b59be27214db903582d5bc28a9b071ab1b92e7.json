{"ast":null,"code":"/**\r\n * Utility functions for handling authentication tokens\r\n */\n\n/**\r\n * Get the current user from localStorage\r\n * @returns {Object|null} The user object or null if not found\r\n */\nexport const getCurrentUser = () => {\n  const userStr = localStorage.getItem('user');\n  if (userStr) {\n    try {\n      return JSON.parse(userStr);\n    } catch (error) {\n      console.error('Error parsing user from localStorage:', error);\n      return null;\n    }\n  }\n  return null;\n};\n\n/**\r\n * Get the authentication token from localStorage\r\n * @returns {string|null} The token or null if not found\r\n */\nexport const getToken = () => {\n  const user = getCurrentUser();\n  return (user === null || user === void 0 ? void 0 : user.accessToken) || null;\n};\n\n/**\r\n * Save user data (including token) to localStorage\r\n * @param {Object} userData The user data to save\r\n */\nexport const saveUser = userData => {\n  if (userData) {\n    localStorage.setItem('user', JSON.stringify(userData));\n  }\n};\n\n/**\r\n * Remove user data from localStorage\r\n */\nexport const removeUser = () => {\n  localStorage.removeItem('user');\n};\n\n/**\r\n * Update token in axios headers\r\n * @param {Object} api The axios instance\r\n * @param {string} token The token to set\r\n */\nexport const setAuthHeader = (api, token) => {\n  if (token) {\n    api.defaults.headers.common['x-access-token'] = token;\n  } else {\n    delete api.defaults.headers.common['x-access-token'];\n  }\n};","map":{"version":3,"names":["getCurrentUser","userStr","localStorage","getItem","JSON","parse","error","console","getToken","user","accessToken","saveUser","userData","setItem","stringify","removeUser","removeItem","setAuthHeader","api","token","defaults","headers","common"],"sources":["C:/Users/Masha/Desktop/KP/frontend/src/utils/tokenUtils.js"],"sourcesContent":["/**\r\n * Utility functions for handling authentication tokens\r\n */\r\n\r\n/**\r\n * Get the current user from localStorage\r\n * @returns {Object|null} The user object or null if not found\r\n */\r\nexport const getCurrentUser = () => {\r\n  const userStr = localStorage.getItem('user');\r\n  if (userStr) {\r\n    try {\r\n      return JSON.parse(userStr);\r\n    } catch (error) {\r\n      console.error('Error parsing user from localStorage:', error);\r\n      return null;\r\n    }\r\n  }\r\n  return null;\r\n};\r\n\r\n/**\r\n * Get the authentication token from localStorage\r\n * @returns {string|null} The token or null if not found\r\n */\r\nexport const getToken = () => {\r\n  const user = getCurrentUser();\r\n  return user?.accessToken || null;\r\n};\r\n\r\n/**\r\n * Save user data (including token) to localStorage\r\n * @param {Object} userData The user data to save\r\n */\r\nexport const saveUser = (userData) => {\r\n  if (userData) {\r\n    localStorage.setItem('user', JSON.stringify(userData));\r\n  }\r\n};\r\n\r\n/**\r\n * Remove user data from localStorage\r\n */\r\nexport const removeUser = () => {\r\n  localStorage.removeItem('user');\r\n};\r\n\r\n/**\r\n * Update token in axios headers\r\n * @param {Object} api The axios instance\r\n * @param {string} token The token to set\r\n */\r\nexport const setAuthHeader = (api, token) => {\r\n  if (token) {\r\n    api.defaults.headers.common['x-access-token'] = token;\r\n  } else {\r\n    delete api.defaults.headers.common['x-access-token'];\r\n  }\r\n}; "],"mappings":"AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO,MAAMA,cAAc,GAAGA,CAAA,KAAM;EAClC,MAAMC,OAAO,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;EAC5C,IAAIF,OAAO,EAAE;IACX,IAAI;MACF,OAAOG,IAAI,CAACC,KAAK,CAACJ,OAAO,CAAC;IAC5B,CAAC,CAAC,OAAOK,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,uCAAuC,EAAEA,KAAK,CAAC;MAC7D,OAAO,IAAI;IACb;EACF;EACA,OAAO,IAAI;AACb,CAAC;;AAED;AACA;AACA;AACA;AACA,OAAO,MAAME,QAAQ,GAAGA,CAAA,KAAM;EAC5B,MAAMC,IAAI,GAAGT,cAAc,CAAC,CAAC;EAC7B,OAAO,CAAAS,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEC,WAAW,KAAI,IAAI;AAClC,CAAC;;AAED;AACA;AACA;AACA;AACA,OAAO,MAAMC,QAAQ,GAAIC,QAAQ,IAAK;EACpC,IAAIA,QAAQ,EAAE;IACZV,YAAY,CAACW,OAAO,CAAC,MAAM,EAAET,IAAI,CAACU,SAAS,CAACF,QAAQ,CAAC,CAAC;EACxD;AACF,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMG,UAAU,GAAGA,CAAA,KAAM;EAC9Bb,YAAY,CAACc,UAAU,CAAC,MAAM,CAAC;AACjC,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,aAAa,GAAGA,CAACC,GAAG,EAAEC,KAAK,KAAK;EAC3C,IAAIA,KAAK,EAAE;IACTD,GAAG,CAACE,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,gBAAgB,CAAC,GAAGH,KAAK;EACvD,CAAC,MAAM;IACL,OAAOD,GAAG,CAACE,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,gBAAgB,CAAC;EACtD;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}